import pprint
from eth_account import Account
from web3 import Web3
import sys
from web3.middleware import geth_poa_middleware
from web3.gas_strategies.time_based import fast_gas_price_strategy, slow_gas_price_strategy,medium_gas_price_strategy
Account.enable_unaudited_hdwallet_features()

nft_address = ''
if sys.argv[1] != '0x0':
    nft_address = Web3.toChecksumAddress(sys.argv[1])


nft_abi = '[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"hiddenMetadataUri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMintAmountPerTx","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_mintAmount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"mintForAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"buri","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cost","type":"uint256"}],"name":"setCost","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxMintAmountPerTx","type":"uint256"}],"name":"setMaxMintAmountPerTx","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_state","type":"bool"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_state","type":"bool"}],"name":"setRevealed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'

dev = 'https://goerli.infura.io/v3/31b561c046134b85a884b367c937d46a'
# pro = 'https://bsc-dataseed.binance.org/'
# env = 'https://kovan.infura.io/v3/31b561c046134b85a884b367c937d46a'
env = dev
w3 = Web3(Web3.HTTPProvider(env))


w3.middleware_onion.inject(geth_poa_middleware, layer=0)
nft_contract_instance = w3.eth.contract(address=nft_address, abi=nft_abi)
bytecode = 0x608060405266232bff5f46c000600e556109c4600f5560146010553480156200002757600080fd5b506040518060400160405280600781526020017f46616e734e4654000000000000000000000000000000000000000000000000008152506040518060400160405280600481526020017f464e4654000000000000000000000000000000000000000000000000000000008152508160009081620000a5919062000430565b508060019081620000b7919062000430565b505050620000da620000ce620000e860201b60201c565b620000f060201b60201c565b6001600b8190555062000517565b600033905090565b6000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200023857607f821691505b6020821081036200024e576200024d620001f0565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620002b87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8262000279565b620002c4868362000279565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620003116200030b6200030584620002dc565b620002e6565b620002dc565b9050919050565b6000819050919050565b6200032d83620002f0565b620003456200033c8262000318565b84845462000286565b825550505050565b600090565b6200035c6200034d565b6200036981848462000322565b505050565b5b8181101562000391576200038560008262000352565b6001810190506200036f565b5050565b601f821115620003e057620003aa8162000254565b620003b58462000269565b81016020851015620003c5578190505b620003dd620003d48562000269565b8301826200036e565b50505b505050565b600082821c905092915050565b60006200040560001984600802620003e5565b1980831691505092915050565b6000620004208383620003f2565b9150826002028217905092915050565b6200043b82620001b6565b67ffffffffffffffff811115620004575762000456620001c1565b5b6200046382546200021f565b6200047082828562000395565b600060209050601f831160018114620004a8576000841562000493578287015190505b6200049f858262000412565b8655506200050f565b601f198416620004b88662000254565b60005b82811015620004e257848901518255600182019150602085019450602081019050620004bb565b86831015620005025784890151620004fe601f891682620003f2565b8355505b6001600288020188555050505b505050505050565b6140d480620005276000396000f3fe6080604052600436106101f95760003560e01c80636352211e1161010d578063a45ba8e7116100a0578063d5abeb011161006f578063d5abeb0114610710578063e0a808531461073b578063e985e9c514610764578063f254933d146107a1578063f2fde38b146107ca576101f9565b8063a45ba8e714610656578063b071401b14610681578063b88d4fde146106aa578063c87b56dd146106d3576101f9565b806394354fd0116100dc57806394354fd0146105bb57806395d89b41146105e6578063a0712d6814610611578063a22cb4651461062d576101f9565b80636352211e146104ff57806370a082311461053c578063715018a6146105795780638da5cb5b14610590576101f9565b80632f745c591161019057806344a0d68a1161015f57806344a0d68a1461041a5780634f6ccce714610443578063518302271461048057806355f804b3146104ab5780635c975abb146104d4576101f9565b80632f745c59146103745780633ccfd60b146103b157806342842e0e146103c857806342966c68146103f1576101f9565b806313faede6116101cc57806313faede6146102cc57806316c38b3c146102f757806318160ddd1461032057806323b872dd1461034b576101f9565b806301ffc9a7146101fe57806306fdde031461023b578063081812fc14610266578063095ea7b3146102a3575b600080fd5b34801561020a57600080fd5b506102256004803603810190610220919061291a565b6107f3565b6040516102329190612962565b60405180910390f35b34801561024757600080fd5b5061025061086d565b60405161025d9190612a0d565b60405180910390f35b34801561027257600080fd5b5061028d60048036038101906102889190612a65565b6108ff565b60405161029a9190612ad3565b60405180910390f35b3480156102af57600080fd5b506102ca60048036038101906102c59190612b1a565b610945565b005b3480156102d857600080fd5b506102e1610a5c565b6040516102ee9190612b69565b60405180910390f35b34801561030357600080fd5b5061031e60048036038101906103199190612bb0565b610a62565b005b34801561032c57600080fd5b50610335610a87565b6040516103429190612b69565b60405180910390f35b34801561035757600080fd5b50610372600480360381019061036d9190612bdd565b610a94565b005b34801561038057600080fd5b5061039b60048036038101906103969190612b1a565b610af4565b6040516103a89190612b69565b60405180910390f35b3480156103bd57600080fd5b506103c6610b99565b005b3480156103d457600080fd5b506103ef60048036038101906103ea9190612bdd565b610c76565b005b3480156103fd57600080fd5b5061041860048036038101906104139190612a65565b610c96565b005b34801561042657600080fd5b50610441600480360381019061043c9190612a65565b610cf2565b005b34801561044f57600080fd5b5061046a60048036038101906104659190612a65565b610d04565b6040516104779190612b69565b60405180910390f35b34801561048c57600080fd5b50610495610d75565b6040516104a29190612962565b60405180910390f35b3480156104b757600080fd5b506104d260048036038101906104cd9190612d65565b610d88565b005b3480156104e057600080fd5b506104e9610de7565b6040516104f69190612962565b60405180910390f35b34801561050b57600080fd5b5061052660048036038101906105219190612a65565b610dfa565b6040516105339190612ad3565b60405180910390f35b34801561054857600080fd5b50610563600480360381019061055e9190612dae565b610eab565b6040516105709190612b69565b60405180910390f35b34801561058557600080fd5b5061058e610f62565b005b34801561059c57600080fd5b506105a5610f76565b6040516105b29190612ad3565b60405180910390f35b3480156105c757600080fd5b506105d0610fa0565b6040516105dd9190612b69565b60405180910390f35b3480156105f257600080fd5b506105fb610fa6565b6040516106089190612a0d565b60405180910390f35b61062b60048036038101906106269190612a65565b611038565b005b34801561063957600080fd5b50610654600480360381019061064f9190612ddb565b6111de565b005b34801561066257600080fd5b5061066b6111f4565b6040516106789190612a0d565b60405180910390f35b34801561068d57600080fd5b506106a860048036038101906106a39190612a65565b611282565b005b3480156106b657600080fd5b506106d160048036038101906106cc9190612ebc565b611294565b005b3480156106df57600080fd5b506106fa60048036038101906106f59190612a65565b6112f6565b6040516107079190612a0d565b60405180910390f35b34801561071c57600080fd5b5061072561135e565b6040516107329190612b69565b60405180910390f35b34801561074757600080fd5b50610762600480360381019061075d9190612bb0565b611364565b005b34801561077057600080fd5b5061078b60048036038101906107869190612f3f565b611389565b6040516107989190612962565b60405180910390f35b3480156107ad57600080fd5b506107c860048036038101906107c39190612b1a565b61141d565b005b3480156107d657600080fd5b506107f160048036038101906107ec9190612dae565b611433565b005b60007f780e9d63000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806108665750610865826114b6565b5b9050919050565b60606000805461087c90612fae565b80601f01602080910402602001604051908101604052809291908181526020018280546108a890612fae565b80156108f55780601f106108ca576101008083540402835291602001916108f5565b820191906000526020600020905b8154815290600101906020018083116108d857829003601f168201915b5050505050905090565b600061090a82611598565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600061095082610dfa565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036109c0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109b790613051565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff166109df6115e3565b73ffffffffffffffffffffffffffffffffffffffff161480610a0e5750610a0d81610a086115e3565b611389565b5b610a4d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a44906130e3565b60405180910390fd5b610a5783836115eb565b505050565b600e5481565b610a6a6116a4565b80601160006101000a81548160ff02191690831515021790555050565b6000600880549050905090565b610aa5610a9f6115e3565b82611722565b610ae4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610adb90613175565b60405180910390fd5b610aef8383836117b7565b505050565b6000610aff83610eab565b8210610b40576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b3790613207565b60405180910390fd5b600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600083815260200190815260200160002054905092915050565b610ba16116a4565b6002600b5403610be6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bdd90613273565b60405180910390fd5b6002600b819055506000610bf8610f76565b73ffffffffffffffffffffffffffffffffffffffff1647604051610c1b906132c4565b60006040518083038185875af1925050503d8060008114610c58576040519150601f19603f3d011682016040523d82523d6000602084013e610c5d565b606091505b5050905080610c6b57600080fd5b506001600b81905550565b610c9183838360405180602001604052806000815250611294565b505050565b610ca7610ca16115e3565b82611722565b610ce6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cdd9061334b565b60405180910390fd5b610cef81611a1d565b50565b610cfa6116a4565b80600e8190555050565b6000610d0e610a87565b8210610d4f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d46906133dd565b60405180910390fd5b60088281548110610d6357610d626133fd565b5b90600052602060002001549050919050565b601160019054906101000a900460ff1681565b610d906116a4565b6000815111610dd4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dcb90613478565b60405180910390fd5b80600c9081610de39190613644565b5050565b601160009054906101000a900460ff1681565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610ea2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e9990613762565b60405180910390fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610f1b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f12906137f4565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610f6a6116a4565b610f746000611b3a565b565b6000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60105481565b606060018054610fb590612fae565b80601f0160208091040260200160405190810160405280929190818152602001828054610fe190612fae565b801561102e5780601f106110035761010080835404028352916020019161102e565b820191906000526020600020905b81548152906001019060200180831161101157829003601f168201915b5050505050905090565b6002600b540361107d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161107490613273565b60405180910390fd5b6002600b8190555060008111801561109757506010548111155b6110d6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110cd90613860565b60405180910390fd5b600f54816110e2610a87565b6110ec91906138af565b111561112d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111249061392f565b60405180910390fd5b601160009054906101000a900460ff161561117d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111749061399b565b60405180910390fd5b600e543410156111c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111b990613a07565b60405180910390fd5b6111d36111cd6115e3565b82611c00565b6001600b8190555050565b6111f06111e96115e3565b8383611c1e565b5050565b600d805461120190612fae565b80601f016020809104026020016040519081016040528092919081815260200182805461122d90612fae565b801561127a5780601f1061124f5761010080835404028352916020019161127a565b820191906000526020600020905b81548152906001019060200180831161125d57829003601f168201915b505050505081565b61128a6116a4565b8060108190555050565b6112a561129f6115e3565b83611722565b6112e4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112db90613175565b60405180910390fd5b6112f084848484611d8a565b50505050565b606061130182611598565b600061130b611de6565b9050600081511161132b5760405180602001604052806000815250611356565b8061133584611e78565b604051602001611346929190613a63565b6040516020818303038152906040525b915050919050565b600f5481565b61136c6116a4565b80601160016101000a81548160ff02191690831515021790555050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6114256116a4565b61142f8282611c00565b5050565b61143b6116a4565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036114aa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114a190613af9565b60405180910390fd5b6114b381611b3a565b50565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061158157507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b80611591575061159082611fd8565b5b9050919050565b6115a181612042565b6115e0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d790613762565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff1661165e83610dfa565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b6116ac6115e3565b73ffffffffffffffffffffffffffffffffffffffff166116ca610f76565b73ffffffffffffffffffffffffffffffffffffffff1614611720576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161171790613b65565b60405180910390fd5b565b60008061172e83610dfa565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480611770575061176f8185611389565b5b806117ae57508373ffffffffffffffffffffffffffffffffffffffff16611796846108ff565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff166117d782610dfa565b73ffffffffffffffffffffffffffffffffffffffff161461182d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161182490613bf7565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361189c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161189390613c89565b60405180910390fd5b6118a78383836120ae565b6118b26000826115eb565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546119029190613ca9565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461195991906138af565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611a188383836121c0565b505050565b6000611a2882610dfa565b9050611a36816000846120ae565b611a416000836115eb565b6001600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611a919190613ca9565b925050819055506002600083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905581600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611b36816000846121c0565b5050565b6000600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b611c1a8282604051806020016040528060008152506121c5565b5050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611c8c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c8390613d29565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3183604051611d7d9190612962565b60405180910390a3505050565b611d958484846117b7565b611da184848484612220565b611de0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611dd790613dbb565b60405180910390fd5b50505050565b6060600c8054611df590612fae565b80601f0160208091040260200160405190810160405280929190818152602001828054611e2190612fae565b8015611e6e5780601f10611e4357610100808354040283529160200191611e6e565b820191906000526020600020905b815481529060010190602001808311611e5157829003601f168201915b5050505050905090565b606060008203611ebf576040518060400160405280600181526020017f30000000000000000000000000000000000000000000000000000000000000008152509050611fd3565b600082905060005b60008214611ef1578080611eda90613ddb565b915050600a82611eea9190613e52565b9150611ec7565b60008167ffffffffffffffff811115611f0d57611f0c612c3a565b5b6040519080825280601f01601f191660200182016040528015611f3f5781602001600182028036833780820191505090505b5090505b60008514611fcc57600182611f589190613ca9565b9150600a85611f679190613e83565b6030611f7391906138af565b60f81b818381518110611f8957611f886133fd565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a85611fc59190613e52565b9450611f43565b8093505050505b919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b6120b98383836123a7565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036120fb576120f6816123ac565b61213a565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16146121395761213883826123f5565b5b5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff160361217c5761217781612562565b6121bb565b8273ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16146121ba576121b98282612633565b5b5b505050565b505050565b6121cf83836126b2565b6121dc6000848484612220565b61221b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161221290613dbb565b60405180910390fd5b505050565b60006122418473ffffffffffffffffffffffffffffffffffffffff1661288b565b1561239a578373ffffffffffffffffffffffffffffffffffffffff1663150b7a0261226a6115e3565b8786866040518563ffffffff1660e01b815260040161228c9493929190613f09565b6020604051808303816000875af19250505080156122c857506040513d601f19601f820116820180604052508101906122c59190613f6a565b60015b61234a573d80600081146122f8576040519150601f19603f3d011682016040523d82523d6000602084013e6122fd565b606091505b506000815103612342576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161233990613dbb565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161491505061239f565b600190505b949350505050565b505050565b6008805490506009600083815260200190815260200160002081905550600881908060018154018082558091505060019003906000526020600020016000909190919091505550565b6000600161240284610eab565b61240c9190613ca9565b90506000600760008481526020019081526020016000205490508181146124f1576000600660008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600084815260200190815260200160002054905080600660008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600084815260200190815260200160002081905550816007600083815260200190815260200160002081905550505b6007600084815260200190815260200160002060009055600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008381526020019081526020016000206000905550505050565b600060016008805490506125769190613ca9565b90506000600960008481526020019081526020016000205490506000600883815481106125a6576125a56133fd565b5b9060005260206000200154905080600883815481106125c8576125c76133fd565b5b90600052602060002001819055508160096000838152602001908152602001600020819055506009600085815260200190815260200160002060009055600880548061261757612616613f97565b5b6001900381819060005260206000200160009055905550505050565b600061263e83610eab565b905081600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600083815260200190815260200160002081905550806007600084815260200190815260200160002081905550505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603612721576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161271890614012565b60405180910390fd5b61272a81612042565b1561276a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127619061407e565b60405180910390fd5b612776600083836120ae565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546127c691906138af565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4612887600083836121c0565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b6128f7816128c2565b811461290257600080fd5b50565b600081359050612914816128ee565b92915050565b6000602082840312156129305761292f6128b8565b5b600061293e84828501612905565b91505092915050565b60008115159050919050565b61295c81612947565b82525050565b60006020820190506129776000830184612953565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156129b757808201518184015260208101905061299c565b60008484015250505050565b6000601f19601f8301169050919050565b60006129df8261297d565b6129e98185612988565b93506129f9818560208601612999565b612a02816129c3565b840191505092915050565b60006020820190508181036000830152612a2781846129d4565b905092915050565b6000819050919050565b612a4281612a2f565b8114612a4d57600080fd5b50565b600081359050612a5f81612a39565b92915050565b600060208284031215612a7b57612a7a6128b8565b5b6000612a8984828501612a50565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000612abd82612a92565b9050919050565b612acd81612ab2565b82525050565b6000602082019050612ae86000830184612ac4565b92915050565b612af781612ab2565b8114612b0257600080fd5b50565b600081359050612b1481612aee565b92915050565b60008060408385031215612b3157612b306128b8565b5b6000612b3f85828601612b05565b9250506020612b5085828601612a50565b9150509250929050565b612b6381612a2f565b82525050565b6000602082019050612b7e6000830184612b5a565b92915050565b612b8d81612947565b8114612b9857600080fd5b50565b600081359050612baa81612b84565b92915050565b600060208284031215612bc657612bc56128b8565b5b6000612bd484828501612b9b565b91505092915050565b600080600060608486031215612bf657612bf56128b8565b5b6000612c0486828701612b05565b9350506020612c1586828701612b05565b9250506040612c2686828701612a50565b9150509250925092565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b612c72826129c3565b810181811067ffffffffffffffff82111715612c9157612c90612c3a565b5b80604052505050565b6000612ca46128ae565b9050612cb08282612c69565b919050565b600067ffffffffffffffff821115612cd057612ccf612c3a565b5b612cd9826129c3565b9050602081019050919050565b82818337600083830152505050565b6000612d08612d0384612cb5565b612c9a565b905082815260208101848484011115612d2457612d23612c35565b5b612d2f848285612ce6565b509392505050565b600082601f830112612d4c57612d4b612c30565b5b8135612d5c848260208601612cf5565b91505092915050565b600060208284031215612d7b57612d7a6128b8565b5b600082013567ffffffffffffffff811115612d9957612d986128bd565b5b612da584828501612d37565b91505092915050565b600060208284031215612dc457612dc36128b8565b5b6000612dd284828501612b05565b91505092915050565b60008060408385031215612df257612df16128b8565b5b6000612e0085828601612b05565b9250506020612e1185828601612b9b565b9150509250929050565b600067ffffffffffffffff821115612e3657612e35612c3a565b5b612e3f826129c3565b9050602081019050919050565b6000612e5f612e5a84612e1b565b612c9a565b905082815260208101848484011115612e7b57612e7a612c35565b5b612e86848285612ce6565b509392505050565b600082601f830112612ea357612ea2612c30565b5b8135612eb3848260208601612e4c565b91505092915050565b60008060008060808587031215612ed657612ed56128b8565b5b6000612ee487828801612b05565b9450506020612ef587828801612b05565b9350506040612f0687828801612a50565b925050606085013567ffffffffffffffff811115612f2757612f266128bd565b5b612f3387828801612e8e565b91505092959194509250565b60008060408385031215612f5657612f556128b8565b5b6000612f6485828601612b05565b9250506020612f7585828601612b05565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612fc657607f821691505b602082108103612fd957612fd8612f7f565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b600061303b602183612988565b915061304682612fdf565b604082019050919050565b6000602082019050818103600083015261306a8161302e565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c0000602082015250565b60006130cd603e83612988565b91506130d882613071565b604082019050919050565b600060208201905081810360008301526130fc816130c0565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206e6f7220617070726f766564000000000000000000000000000000000000602082015250565b600061315f602e83612988565b915061316a82613103565b604082019050919050565b6000602082019050818103600083015261318e81613152565b9050919050565b7f455243373231456e756d657261626c653a206f776e657220696e646578206f7560008201527f74206f6620626f756e6473000000000000000000000000000000000000000000602082015250565b60006131f1602b83612988565b91506131fc82613195565b604082019050919050565b60006020820190508181036000830152613220816131e4565b9050919050565b7f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00600082015250565b600061325d601f83612988565b915061326882613227565b602082019050919050565b6000602082019050818103600083015261328c81613250565b9050919050565b600081905092915050565b50565b60006132ae600083613293565b91506132b98261329e565b600082019050919050565b60006132cf826132a1565b9150819050919050565b7f6275726e2063616c6c6572206973206e6f74206f776e6572206e6f722061707060008201527f726f766564000000000000000000000000000000000000000000000000000000602082015250565b6000613335602583612988565b9150613340826132d9565b604082019050919050565b6000602082019050818103600083015261336481613328565b9050919050565b7f455243373231456e756d657261626c653a20676c6f62616c20696e646578206f60008201527f7574206f6620626f756e64730000000000000000000000000000000000000000602082015250565b60006133c7602c83612988565b91506133d28261336b565b604082019050919050565b600060208201905081810360008301526133f6816133ba565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f77726f6e67206261736520757269000000000000000000000000000000000000600082015250565b6000613462600e83612988565b915061346d8261342c565b602082019050919050565b6000602082019050818103600083015261349181613455565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026134fa7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826134bd565b61350486836134bd565b95508019841693508086168417925050509392505050565b6000819050919050565b600061354161353c61353784612a2f565b61351c565b612a2f565b9050919050565b6000819050919050565b61355b83613526565b61356f61356782613548565b8484546134ca565b825550505050565b600090565b613584613577565b61358f818484613552565b505050565b5b818110156135b3576135a860008261357c565b600181019050613595565b5050565b601f8211156135f8576135c981613498565b6135d2846134ad565b810160208510156135e1578190505b6135f56135ed856134ad565b830182613594565b50505b505050565b600082821c905092915050565b600061361b600019846008026135fd565b1980831691505092915050565b6000613634838361360a565b9150826002028217905092915050565b61364d8261297d565b67ffffffffffffffff81111561366657613665612c3a565b5b6136708254612fae565b61367b8282856135b7565b600060209050601f8311600181146136ae576000841561369c578287015190505b6136a68582613628565b86555061370e565b601f1984166136bc86613498565b60005b828110156136e4578489015182556001820191506020850194506020810190506136bf565b8683101561370157848901516136fd601f89168261360a565b8355505b6001600288020188555050505b505050505050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b600061374c601883612988565b915061375782613716565b602082019050919050565b6000602082019050818103600083015261377b8161373f565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b60006137de602983612988565b91506137e982613782565b604082019050919050565b6000602082019050818103600083015261380d816137d1565b9050919050565b7f496e76616c6964206d696e7420616d6f756e7421000000000000000000000000600082015250565b600061384a601483612988565b915061385582613814565b602082019050919050565b600060208201905081810360008301526138798161383d565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006138ba82612a2f565b91506138c583612a2f565b92508282019050808211156138dd576138dc613880565b5b92915050565b7f4d617820737570706c7920657863656564656421000000000000000000000000600082015250565b6000613919601483612988565b9150613924826138e3565b602082019050919050565b600060208201905081810360008301526139488161390c565b9050919050565b7f54686520636f6e74726163742069732070617573656421000000000000000000600082015250565b6000613985601783612988565b91506139908261394f565b602082019050919050565b600060208201905081810360008301526139b481613978565b9050919050565b7f496e73756666696369656e742066756e64732100000000000000000000000000600082015250565b60006139f1601383612988565b91506139fc826139bb565b602082019050919050565b60006020820190508181036000830152613a20816139e4565b9050919050565b600081905092915050565b6000613a3d8261297d565b613a478185613a27565b9350613a57818560208601612999565b80840191505092915050565b6000613a6f8285613a32565b9150613a7b8284613a32565b91508190509392505050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000613ae3602683612988565b9150613aee82613a87565b604082019050919050565b60006020820190508181036000830152613b1281613ad6565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b6000613b4f602083612988565b9150613b5a82613b19565b602082019050919050565b60006020820190508181036000830152613b7e81613b42565b9050919050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b6000613be1602583612988565b9150613bec82613b85565b604082019050919050565b60006020820190508181036000830152613c1081613bd4565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000613c73602483612988565b9150613c7e82613c17565b604082019050919050565b60006020820190508181036000830152613ca281613c66565b9050919050565b6000613cb482612a2f565b9150613cbf83612a2f565b9250828203905081811115613cd757613cd6613880565b5b92915050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b6000613d13601983612988565b9150613d1e82613cdd565b602082019050919050565b60006020820190508181036000830152613d4281613d06565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b6000613da5603283612988565b9150613db082613d49565b604082019050919050565b60006020820190508181036000830152613dd481613d98565b9050919050565b6000613de682612a2f565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203613e1857613e17613880565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b6000613e5d82612a2f565b9150613e6883612a2f565b925082613e7857613e77613e23565b5b828204905092915050565b6000613e8e82612a2f565b9150613e9983612a2f565b925082613ea957613ea8613e23565b5b828206905092915050565b600081519050919050565b600082825260208201905092915050565b6000613edb82613eb4565b613ee58185613ebf565b9350613ef5818560208601612999565b613efe816129c3565b840191505092915050565b6000608082019050613f1e6000830187612ac4565b613f2b6020830186612ac4565b613f386040830185612b5a565b8181036060830152613f4a8184613ed0565b905095945050505050565b600081519050613f64816128ee565b92915050565b600060208284031215613f8057613f7f6128b8565b5b6000613f8e84828501613f55565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fd5b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b6000613ffc602083612988565b915061400782613fc6565b602082019050919050565b6000602082019050818103600083015261402b81613fef565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b6000614068601c83612988565b915061407382614032565b602082019050919050565b600060208201905081810360008301526140978161405b565b905091905056fea2646970667358221220582f7b4f680f4db5503870aad16af7d92c528df6cc8f374be0ed326b759869a664736f6c63430008100033

cmd = sys.argv[3]

if cmd == "getOwner" or cmd == "balanceOf" or cmd == "tokenOfOwnerByIndex" or cmd == "getApproved" or cmd == "gasPrice":
    user_account = ""
    user_address = ""
else:
    user_account = Account.from_mnemonic(sys.argv[2])
    user_address = user_account.address

if not cmd:
    print("format error")
elif cmd == "mint":
    w3.eth.default_account = user_account
    user_address = Web3.toChecksumAddress(user_address)
    tokenid = int(sys.argv[4])
    value = float(sys.argv[5])
    nonce = w3.eth.get_transaction_count(user_address)
    tx_unsign = nft_contract_instance.functions.mint(tokenid).build_transaction(
        {'from': user_address, 'gasPrice': w3.eth.gas_price, 'nonce': nonce, 'value': w3.toWei(value, 'ether')})

    tx_sign = user_account.sign_transaction(tx_unsign)

    tx_hash = w3.eth.send_raw_transaction(tx_sign.rawTransaction)
    receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
    pprint.pprint(receipt["status"])
    pprint.pprint(receipt["transactionHash"])
elif cmd == "transfer":
    w3.eth.default_account = user_account
    user_address = Web3.toChecksumAddress(user_address)
    tokenid = int(sys.argv[4])
    to_address = float(sys.argv[5])
    nonce = w3.eth.get_transaction_count(user_address)
    tx_unsign = nft_contract_instance.functions.transferFrom(user_address, to_address, tokenid).build_transaction(
        {'from': user_address, 'gasPrice': w3.eth.gas_price, 'nonce': nonce})
    tx_sign = user_account.sign_transaction(tx_unsign)
    tx_hash = w3.eth.send_raw_transaction(tx_sign.rawTransaction)
    receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
    pprint.pprint(receipt["status"])
    pprint.pprint(receipt["transactionHash"])
elif cmd == "deploy":
    w3.eth.default_account = user_account
    new_contract = w3.eth.contract(abi=nft_abi, bytecode=bytecode)
    user_address = Web3.toChecksumAddress(user_address)
    nonce = w3.eth.get_transaction_count(user_address)
    tx_unsign = new_contract.constructor().build_transaction(
        {'from': user_address, 'gasPrice': w3.eth.gas_price, 'nonce': nonce})
    tx_sign = user_account.sign_transaction(tx_unsign)
    tx_hash = w3.eth.send_raw_transaction(tx_sign.rawTransaction)
    receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
    pprint.pprint(receipt["status"])
    pprint.pprint(receipt["contractAddress"])
    pprint.pprint(receipt["transactionHash"])

elif cmd == "mintByCreator":
    w3.eth.default_account = user_account
    user_address = Web3.toChecksumAddress(user_address)
    tokenid = int(sys.argv[4])
    fans_address = Web3.toChecksumAddress(sys.argv[5])
    nonce = w3.eth.get_transaction_count(user_address)
    tx_unsign = nft_contract_instance.functions.mintForAddress(fans_address, tokenid).build_transaction(
        {'from': user_address, 'gasPrice': w3.eth.gas_price, 'nonce': nonce})

    tx_sign = user_account.sign_transaction(tx_unsign)

    tx_hash = w3.eth.send_raw_transaction(tx_sign.rawTransaction)
    receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
    pprint.pprint(receipt["status"])
    pprint.pprint(receipt["transactionHash"])
elif cmd == "ownerOf":
    tokenid = int(sys.argv[4])
    owner_address = nft_contract_instance.functions.ownerOf(tokenid).call()
    if owner_address == user_address:
        print(1)
    else:
        print(0)
elif cmd == "getOwner":
    tokenid = int(sys.argv[4])
    owner_address = nft_contract_instance.functions.ownerOf(tokenid).call()
    print(owner_address)
elif cmd == "balanceOf":
    address = Web3.toChecksumAddress(sys.argv[4])
    num = nft_contract_instance.functions.balanceOf(address).call()
    print(num)
elif cmd == "tokenOfOwnerByIndex":
    address = Web3.toChecksumAddress(sys.argv[4])
    index = int(sys.argv[5])
    tokenid = nft_contract_instance.functions.tokenOfOwnerByIndex(address, index).call()
    print(tokenid)
elif cmd == "getApproved":
    root_address = Web3.toChecksumAddress(sys.argv[4])
    tokenid = int(sys.argv[5])
    approved_address = nft_contract_instance.functions.getApproved(tokenid).call()
    print(approved_address)
    if root_address == approved_address:
        print(1)
    else:
        print(0)
elif cmd == "gasPrice":
    print(w3.eth.gas_price)
elif cmd == "setCost":
    w3.eth.default_account = user_account
    nonce = w3.eth.get_transaction_count(user_address)
    tx_unsign = nft_contract_instance.functions.setCost(w3.toWei(sys.argv[4], 'ether')).build_transaction(
        {'from': user_address, 'gasPrice': w3.eth.gas_price, 'nonce': nonce})
    tx_sign = user_account.sign_transaction(tx_unsign)
    tx_hash = w3.eth.send_raw_transaction(tx_sign.rawTransaction)
    receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
    pprint.pprint(receipt["status"])
    pprint.pprint(receipt["transactionHash"])
elif cmd == "setMaxMintAmountPerTx":
    w3.eth.default_account = user_account
    nonce = w3.eth.get_transaction_count(user_address)
    tx_unsign = nft_contract_instance.functions.setMaxMintAmountPerTx(int(sys.argv[4])).build_transaction(
        {'from': user_address, 'gasPrice': w3.eth.gas_price, 'nonce': nonce})
    tx_sign = user_account.sign_transaction(tx_unsign)
    tx_hash = w3.eth.send_raw_transaction(tx_sign.rawTransaction)
    receipt = w3.eth.wait_for_transaction_receipt(tx_hash)
    pprint.pprint(receipt["status"])
    pprint.pprint(receipt["transactionHash"])


